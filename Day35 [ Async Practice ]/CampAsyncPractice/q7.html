<!-- Use this URL - https://example.com/api/chat to make a fake fetch call and handle errors if any. Show a proper message to the user on the DOM, as per the status and message received from the server. A fakeFetch has been provided. Use HTML, CSS & JS template in REPL or Vanilla template in CodeSandbox for this question. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>api 2</title>
</head>
<body>
    <h1>neoG Camp 2023</h1>
    <div>
        <h2 id="output"></h2>
    </div>









                                   



    <script>
        // 11. Use this URL - https://example.com/api/profile/NC002 in which we are passing the id of a user to make a fake fetch call and display a welcome message to the user on the DOM. A fakeFetch has been provided. Use HTML, CSS & JS template in REPL or Vanilla template in CodeSandbox for this question.
    

        // const fakeFetch = (url) => {
        //     return new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         if (url === "https://example.com/api/profile/NC002") {
        //         resolve({
        //             status: 200,
        //             data: {
        //             message: "Success",
        //             data: { id: "NC002", name: "Roshan", institute: "neoG Camp" }
        //             }
        //         });
        //         } else {
        //         reject({
        //             status: 404,
        //             message: "Resource not found"
        //         });
        //         }
        //     }, 2000);
        //     });
        // };

        const fakeFetch = (url) => {
            return new Promise((resolve, reject) => {
                if(url === 'https://example.com/api/profile/NC002'){
                    resolve({
                        status : 200,
                        message : 'Success',
                        data : {
                            id : 'NC002',
                            name: 'Roshan Prasad',
                            institute : 'neoG Camp',
                            reason : 'to get a job in 2023'
                        }
                    })
                }else{
                    reject({
                        status : 404,
                        message : 'Resource not found!'
                    })
                }
            })
        }     


        const output = document.getElementById('output')

        // Your Code here
        fakeFetch('https://example.com/api/profile/NC002')
        .then(({data : {id, name, institute, reason}}) => {
            output.textContent += `Welcome!, Roshan from neoG Camp
            ID : ${id}
            NAME : ${name}
            INSTITUTE : ${institute}
            REASON : ${reason}            
            `
        })
        .catch((error) => {
            output.textContent = `${error.message} : Check back after sometime`
        })


        // Output on the DOM should be: Welcome!, Roshan from neoG Camp
    
    </script>
</body>
</html>